(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cart/order"],{1333:function(e,r,n){"use strict";n.r(r);var t=n("8a64"),o=n.n(t);for(var i in t)"default"!==i&&function(e){n.d(r,e,(function(){return t[e]}))}(i);r["default"]=o.a},1352:function(e,r,n){},"4ed5":function(e,r,n){"use strict";n.d(r,"b",(function(){return o})),n.d(r,"c",(function(){return i})),n.d(r,"a",(function(){return t}));var t={uOverlay:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-overlay/u-overlay")]).then(n.bind(null,"0529"))},"u-Form":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--form/u--form")]).then(n.bind(null,"5002"))},uFormItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(n.bind(null,"dce9"))},"u-Input":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--input/u--input")]).then(n.bind(null,"5441"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"8a63"))},uRadioGroup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-radio-group/u-radio-group")]).then(n.bind(null,"6b24"))},uRadio:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-radio/u-radio")]).then(n.bind(null,"1fc5"))},"u-Textarea":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--textarea/u--textarea")]).then(n.bind(null,"7f00"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"6082"))},uActionSheet:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-action-sheet/u-action-sheet")]).then(n.bind(null,"853d"))},uDatetimePicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker")]).then(n.bind(null,"d215"))}},o=function(){var e=this,r=e.$createElement;e._self._c;e._isMounted||(e.e0=function(r){e.show=!0},e.e1=function(r){e.showSex=!0,e.hideKeyboard()},e.e2=function(r){e.showTime=!0,e.hideKeyboard()},e.e3=function(r){e.showSex=!1})},i=[]},"61c9":function(e,r,n){"use strict";(function(e){n("22d9");t(n("66fd"));var r=t(n("fed0"));function t(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(r.default)}).call(this,n("543d")["createPage"])},"8a64":function(e,r,n){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=n("26cb");function o(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(Object(n),!0).forEach((function(r){u(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function u(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var a={name:"order",data:function(){return{showTime:!1,model1:{order:{name:"",sex:"",time:"",tel:""},radiovalue:"自取",remark:"",address:""},showSex:!1,time:Number(new Date),actions:[{name:"男"},{name:"女"},{name:"保密"}],rules:{"order.name":[{type:"string",required:!0,message:"请填写姓名",trigger:["blur","change"]},{validator:function(r,n,t){return e.$u.test.chinese(n)},message:"姓名必须为中文",trigger:["change","blur"]}],"order.tel":[{type:"number",len:"11",required:!0,message:"请填写电话",trigger:["blur","change"]}],"order.sex":{type:"string",max:1,required:!0,message:"请选择男或女",trigger:["blur","change"]},radiovalue:{type:"string",min:1,max:2,trigger:["change"]},address:{type:"string",min:1,required:!0,message:"不低于5个字",trigger:["change"]},remark:{type:"string",min:1,required:!0,message:"不低于1个字",trigger:["change"]},"order.time":{type:"string",required:!0,message:"请选择时间",trigger:["change"]}},radiolist:[{name:"自取",disabled:!1},{name:"配送",disabled:!1}]}},onReady:function(){this.$refs.form1.setRules(this.rules)},computed:i({},(0,t.mapState)({userinfo:function(e){return e.num.userinfo},cartList:function(e){return e.cart.cartList},showorderModal:function(e){return e.cart.showorderModal}})),methods:i(i({},(0,t.mapMutations)({getInfo:"cart/getInfoMut",handleAllCheck:"cart/allCheckMut",setShoworderModal:"cart/setShoworderModalMut",updateNum:"cart/updateNumMut"})),{},{groupChange:function(e){},radioChange:function(e){},navigateBack:function(){e.navigateBack()},sexSelect:function(e){this.model1.order.sex=e.name,this.$refs.form1.validateField("order.sex")},change:function(e){},timeClose:function(){this.showTime=!1,this.$refs.form1.validateField("order.time")},timeConfirm:function(r){this.showTime=!1,this.model1.order.time=e.$u.timeFormat(r.value,"yyyy-mm-dd"),this.$refs.form1.validateField("order.time")},submit:function(){var r=this;console.log(this.$refs.form1.validate()),this.$refs.form1.validate().then((function(n){e.$u.toast("信息校验通过，正在为您下单..."),r.cartList.forEach((function(e){e.isCheck&&(console.log("购物车列表为勾选状态："+e.isCheck),r.$post("/order/addOrder",{userId:r.userinfo.id,bicycleId:e.bicycleId,state:0,price:e.price*e.number,title:e.title,name:r.model1.order.name,address:r.model1.address,tel:r.model1.order.tel,time:r.model1.order.time,isDelivery:r.model1.order.isDelivery=0,remark:r.model1.remark}).then((function(e){console.log(e)})))})),e.switchTab({url:"./cart"})})).catch((function(r){e.$u.toast("信息校验失败")}))},reset:function(){var e=this,r=["order.name","order.sex","radiovalue","remark","order.time","order.tel"];this.$refs.form1.resetFields(),this.$refs.form1.clearValidate(),setTimeout((function(){e.$refs.form1.clearValidate(r)}),10)},closeOrder:function(){this.setShoworderModal(!1),e.switchTab({url:"./cart"})},hideKeyboard:function(){e.hideKeyboard()}})};r.default=a}).call(this,n("543d")["default"])},d6d2:function(e,r,n){"use strict";var t=n("1352"),o=n.n(t);o.a},fed0:function(e,r,n){"use strict";n.r(r);var t=n("4ed5"),o=n("1333");for(var i in o)"default"!==i&&function(e){n.d(r,e,(function(){return o[e]}))}(i);n("d6d2");var u,a=n("f0c5"),c=Object(a["a"])(o["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],u);r["default"]=c.exports}},[["61c9","common/runtime","common/vendor"]]]);