(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/order"],{"24ec":function(e,n,r){"use strict";r.r(n);var t=r("bff0"),o=r.n(t);for(var i in t)"default"!==i&&function(e){r.d(n,e,(function(){return t[e]}))}(i);n["default"]=o.a},"40ce":function(e,n,r){"use strict";r.r(n);var t=r("875d"),o=r("24ec");for(var i in o)"default"!==i&&function(e){r.d(n,e,(function(){return o[e]}))}(i);r("9048");var u,a=r("f0c5"),s=Object(a["a"])(o["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],u);n["default"]=s.exports},"45a2":function(e,n,r){},"875d":function(e,n,r){"use strict";r.d(n,"b",(function(){return o})),r.d(n,"c",(function(){return i})),r.d(n,"a",(function(){return t}));var t={uOverlay:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-overlay/u-overlay")]).then(r.bind(null,"0529"))},"u-Form":function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u--form/u--form")]).then(r.bind(null,"5002"))},uFormItem:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(r.bind(null,"dce9"))},"u-Input":function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u--input/u--input")]).then(r.bind(null,"5441"))},uIcon:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(r.bind(null,"8a63"))},uRadioGroup:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-radio-group/u-radio-group")]).then(r.bind(null,"6b24"))},uRadio:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-radio/u-radio")]).then(r.bind(null,"1fc5"))},"u-Textarea":function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u--textarea/u--textarea")]).then(r.bind(null,"7f00"))},uButton:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-button/u-button")]).then(r.bind(null,"6082"))},uActionSheet:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-action-sheet/u-action-sheet")]).then(r.bind(null,"853d"))},uDatetimePicker:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker")]).then(r.bind(null,"d215"))}},o=function(){var e=this,n=e.$createElement;e._self._c;e._isMounted||(e.e0=function(n){e.show=!0},e.e1=function(n){e.showSex=!0,e.hideKeyboard()},e.e2=function(n){e.showTime=!0,e.hideKeyboard()},e.e3=function(n){e.showSex=!1})},i=[]},9048:function(e,n,r){"use strict";var t=r("45a2"),o=r.n(t);o.a},bff0:function(e,n,r){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=r("26cb");function o(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){u(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function u(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var a={name:"order",data:function(){return{showTime:!1,model1:{order:{name:"",sex:"",time:"",tel:""},radiovalue:"自取",remark:"",address:""},showSex:!1,time:Number(new Date),actions:[{name:"男"},{name:"女"},{name:"保密"}],rules:{"order.name":[{type:"string",required:!0,message:"请填写姓名",trigger:["blur","change"]},{validator:function(n,r,t){return e.$u.test.chinese(r)},message:"姓名必须为中文",trigger:["change","blur"]}],"order.tel":[{type:"number",len:"11",required:!0,message:"请填写电话",trigger:["blur","change"]}],"order.sex":{type:"string",max:1,required:!0,message:"请选择男或女",trigger:["blur","change"]},radiovalue:{type:"string",min:1,max:2,trigger:["change"]},address:{type:"string",min:1,required:!0,message:"不低于5个字",trigger:["change"]},remark:{type:"string",min:1,required:!0,message:"不低于1个字",trigger:["change"]},"order.time":{type:"string",required:!0,message:"请选择时间",trigger:["change"]}},radiolist:[{name:"自取",disabled:!1},{name:"配送",disabled:!1}]}},onInit:function(){console.log("执行规则"),console.log(this.$refs),this.$refs.form1.setRules(this.rules)},computed:i({},(0,t.mapState)({userinfo:function(e){return e.num.userinfo},cartList:function(e){return e.cart.cartList},showorderModal:function(e){return e.cart.showorderModal}})),methods:i(i({},(0,t.mapMutations)({getInfo:"cart/getInfoMut",handleAllCheck:"cart/allCheckMut",setShoworderModal:"cart/setShoworderModalMut",updateNum:"cart/updateNumMut"})),{},{groupChange:function(e){},radioChange:function(e){},navigateBack:function(){e.navigateBack()},sexSelect:function(e){this.model1.order.sex=e.name,this.$refs.form1.validateField("order.sex")},change:function(e){},timeClose:function(){this.showTime=!1,this.$refs.form1.validateField("order.time")},timeConfirm:function(n){this.showTime=!1,this.model1.order.time=e.$u.timeFormat(n.value,"yyyy-mm-dd"),this.$refs.form1.validateField("order.time")},submit:function(){var n=this;console.log(this.$refs.form1.validate()),this.$refs.form1.validate().then((function(r){e.$u.toast("信息校验通过，正在为您下单..."),n.cartList.forEach((function(e){e.isCheck&&(console.log("购物车列表为勾选状态："+e.isCheck),n.$post("/order/addOrder",{userId:n.userinfo.id,bicycleId:e.bicycleId,state:0,price:e.price*e.number,name:n.model1.order.name,address:n.model1.address,tel:n.model1.order.tel,time:n.model1.order.time,isDelivery:n.model1.order.isDelivery=0,remark:n.model1.remark}).then((function(e){console.log(e)})),n.$post("/address/addAddress",{userId:n.userinfo.id,address:n.model1.address}).then((function(e){console.log(e)})))}))})).catch((function(n){e.$u.toast("信息校验失败")}))},reset:function(){var e=this,n=["order.name","order.sex","radiovalue","remark","order.time","order.tel"];this.$refs.form1.resetFields(),this.$refs.form1.clearValidate(),setTimeout((function(){e.$refs.form1.clearValidate(n)}),10)},hideKeyboard:function(){e.hideKeyboard()}})};n.default=a}).call(this,r("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/order-create-component',
    {
        'components/order-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("40ce"))
        })
    },
    [['components/order-create-component']]
]);
